{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet ProfileComponent = class ProfileComponent {\n  constructor(authService, toasterService) {\n    this.authService = authService;\n    this.toasterService = toasterService;\n    this.user = {\n      username: '',\n      email: '',\n      bio: '',\n      profilePicture: '',\n      contactInfo: '',\n      skills: '',\n      projectTags: [],\n      media: []\n    };\n    this.newTag = '';\n    this.mediaUrl = '';\n    this.updateMessage = '';\n    this.selectedProfilePicture = null;\n    this.selectedResume = null;\n  }\n  onProfilePictureChange(event) {\n    const input = event.target;\n    if (input.files && input.files.length > 0) {\n      this.selectedProfilePicture = input.files[0];\n      // Optionally, update the user.profilePicture URL if needed\n    }\n  }\n  onResumeChange(event) {\n    const input = event.target;\n    if (input.files && input.files.length > 0) {\n      this.selectedResume = input.files[0];\n    }\n  }\n  addTag(event) {\n    if (event.key === 'Enter' && this.newTag) {\n      this.user.projectTags.push(this.newTag);\n      this.newTag = '';\n    }\n  }\n  removeTag(tag) {\n    this.user.projectTags = this.user.projectTags.filter(t => t !== tag);\n  }\n  addMedia() {\n    if (this.mediaUrl) {\n      this.user.media.push(this.mediaUrl);\n      this.mediaUrl = '';\n    }\n  }\n  navigateToProjects() {\n    // Implement navigation logic to projects\n  }\n  updateProfile() {\n    const formData = new FormData();\n    formData.append('username', this.user.username);\n    formData.append('email', this.user.email);\n    formData.append('bio', this.user.bio);\n    formData.append('profilePicture', this.selectedProfilePicture); // Ensure selectedProfilePicture is not null\n    formData.append('contactInfo', this.user.contactInfo);\n    formData.append('skills', this.user.skills);\n    formData.append('projectTags', JSON.stringify(this.user.projectTags)); // Send tags as JSON string\n    formData.append('media', JSON.stringify(this.user.media)); // Send media URLs as JSON string\n    if (this.selectedResume) {\n      formData.append('resume', this.selectedResume);\n    }\n    this.authService.updateUserProfile(formData).subscribe(response => {\n      if (response.success) {\n        this.updateMessage = 'Profile updated successfully!';\n        this.toasterService.success(this.updateMessage);\n      } else {\n        this.updateMessage = response.message || 'Failed to update profile.';\n        this.toasterService.error(this.updateMessage);\n      }\n    }, error => {\n      console.error('Error updating profile:', error);\n      this.toasterService.error('Failed to update profile. Please try again.');\n    });\n  }\n};\nProfileComponent = __decorate([Component({\n  selector: 'app-profile',\n  templateUrl: './profile.component.html'\n})], ProfileComponent);\nexport { ProfileComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}
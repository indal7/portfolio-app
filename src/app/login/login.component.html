<div class="login-container">
  <h2>Login</h2>

  <form *ngIf="!showPasswordReset" (ngSubmit)="login()">
    <label for="email">
      <i class="fas fa-envelope"></i> Email:
    </label>
    <input id="email" [(ngModel)]="email" name="email" required>

    <label for="password">
      <i class="fas fa-lock"></i> Password:
    </label>
    <input id="password" type="password" [(ngModel)]="password" name="password" required>

    <button type="submit">
      <i class="fas fa-sign-in-alt"></i> Login
    </button>
  </form>

  <div *ngIf="errorMessage" class="error">
    <i class="fas fa-exclamation-circle"></i> {{ errorMessage }}
  </div>

  <button type="button" (click)="goToRegister()">
    <i class="fas fa-user-plus"></i> Don't have an account? Register here
  </button>
  
  <!-- Button for Forgot Password -->
  <button type="button" (click)="togglePasswordReset()" *ngIf="!showPasswordReset">
    <i class="fas fa-key"></i> Forgot Password?
  </button>

  <!-- Password Reset Section -->
  <div *ngIf="showPasswordReset" class="password-reset">
    <h3><i class="fas fa-key"></i> Reset Password</h3>
    <label for="resetEmail">
      <i class="fas fa-envelope"></i> Enter your email:
    </label>
    <input id="resetEmail" [(ngModel)]="resetEmail" name="resetEmail" required>
    <button type="button" (click)="requestPasswordReset()">
      <i class="fas fa-paper-plane"></i> Send Reset Link
    </button>
    <div *ngIf="resetMessage" class="message">
      <i class="fas fa-check-circle"></i> {{ resetMessage }}
    </div>
    <button type="button" (click)="togglePasswordReset()">
      <i class="fas fa-arrow-left"></i> Back to Login
    </button>
  </div>
</div>

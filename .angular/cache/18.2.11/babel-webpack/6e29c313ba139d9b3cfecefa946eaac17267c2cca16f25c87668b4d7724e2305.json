{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { environment } from 'src/environments/environment';\nlet LoginComponent = class LoginComponent {\n  constructor(router, toasterService, authService, cdr) {\n    this.router = router;\n    this.toasterService = toasterService;\n    this.authService = authService;\n    this.cdr = cdr;\n    this.email = '';\n    this.password = '';\n    this.resetEmail = '';\n    this.errorMessage = '';\n    this.resetMessage = '';\n    this.apiUrl = environment.apiUrl;\n    this.showPasswordReset = false;\n  }\n  login() {\n    const loginData = {\n      email: this.email,\n      password: this.password\n    };\n    this.authService.login(loginData).subscribe(response => {\n      if (response.success) {\n        this.toasterService.success('Login successful!');\n        this.router.navigate(['/projects-list']);\n      } else {\n        this.toasterService.error('Login failed. No token received.');\n      }\n    }, error => {\n      console.error('Login error:', error);\n      this.toasterService.error('Login failed. Please try again.');\n    });\n  }\n  goToRegister() {\n    this.router.navigate(['/register']);\n  }\n  togglePasswordReset() {\n    this.showPasswordReset = !this.showPasswordReset;\n    this.resetMessage = '';\n    this.cdr.detectChanges();\n  }\n  requestPasswordReset() {\n    if (!this.resetEmail) {\n      this.toasterService.error('Please enter your email address.');\n      return;\n    }\n    const resetData = {\n      email: this.resetEmail\n    };\n    this.authService.requestPasswordReset(resetData).subscribe(response => {\n      if (response.success) {\n        this.resetMessage = 'Password reset link has been sent to your email!';\n        this.toasterService.success(this.resetMessage);\n      } else {\n        this.resetMessage = response.message || 'Error sending reset link.';\n        this.toasterService.error(this.resetMessage);\n      }\n    }, error => {\n      console.error('Password reset error:', error);\n      this.toasterService.error('Failed to send password reset link. Please try again.');\n    });\n  }\n};\nLoginComponent = __decorate([Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})], LoginComponent);\nexport { LoginComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}